<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gym Tracker</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <meta name="theme-color" content="#111111" />
</head>
<body>
  <header class="app-header" id="top">
    <div class="header-row">
      <div>
        <h1>Gym Tracker</h1>
        <p class="subtitle">Beginner · Strength + Fat Loss</p>
      </div>
      <button
        id="theme-toggle"
        class="icon-button theme-toggle"
        type="button"
        title="Toggle light / dark theme"
      >☾</button>
    </div>
  </header>

  <main class="app-main">
    <!-- About / info card -->
    <section class="card" id="about-card">
      <h2>About this Program</h2>
      <p>
        This is a <strong>beginner-friendly, 3-days-per-week</strong> program
        focused on <strong>strength</strong> and <strong>fat loss</strong>.
        Each session should take about <strong>60–90 minutes</strong>
        including warm-up, rest between sets, and short conditioning.
      </p>
      <p>
        Training is organized into a <strong>4-week mesocycle</strong>:
      </p>
      <ul class="about-list">
        <li><strong>Week 1 – Foundation:</strong> learn movements, moderate load.</li>
        <li><strong>Week 2 – Build:</strong> small load increase, solid technique.</li>
        <li><strong>Week 3 – Peak:</strong> hardest week (heavier loads, same RPE).</li>
        <li><strong>Week 4 – Deload:</strong> reduced load to recover and adapt.</li>
      </ul>

      <h3>Abbreviations</h3>
      <ul class="about-list">
        <li><strong>RPE</strong> – Rate of Perceived Exertion (1–10 scale).
          <br />RPE 6 = easy–moderate, RPE 7–8 = hard but 2–3 reps left,
          RPE 9 = very hard (maybe 1 rep left),
          <strong>RPE 10 = all-out, no reps left</strong>.
          Your plan mostly stays at RPE 6–8 (not to failure).
        </li>
        <li><strong>Set</strong> – a group of consecutive reps.</li>
        <li><strong>Rep</strong> – one full repetition of an exercise.</li>
        <li><strong>Full body</strong> – you train upper & lower body
          in the same session.
        </li>
      </ul>
    </section>

    <!-- Session setup -->
    <section class="card">
      <h2>Session Setup</h2>
      <div class="field">
        <label for="session-date">Date</label>
        <input type="date" id="session-date" />
      </div>

      <div class="field">
        <label for="day-select">Workout Day</label>
        <select id="day-select"></select>
      </div>

      <div class="field">
        <label for="meso-week">Mesocycle Week</label>
        <select id="meso-week">
          <option value="1">Week 1 – Foundation</option>
          <option value="2" selected>Week 2 – Build</option>
          <option value="3">Week 3 – Peak</option>
          <option value="4">Week 4 – Deload</option>
        </select>
      </div>

      <div class="field">
        <label for="day-mode">Day Type</label>
        <select id="day-mode">
          <option value="normal" selected>Normal day</option>
          <option value="easy">Easy / low-stress day</option>
        </select>
        <p class="hint small-hint">
          Easy day = drop load by roughly 15–25% and keep RPE 1–2 points lower.
        </p>
      </div>

      <button id="load-plan-btn" class="btn primary">Load Plan</button>
    </section>

    <!-- Exercises list -->
    <section class="card" id="exercises-section" hidden>
      <h2>Exercises</h2>
      <p class="hint">
        Tap an exercise to log sets. Tap ▶ for a tutorial video.
      </p>
      <div id="exercise-list"></div>
    </section>

    <!-- Active exercise logging -->
    <section class="card" id="logger-section" hidden>
      <div class="logger-header">
        <h2 id="logger-exercise-name"></h2>
        <p id="logger-target"></p>
      </div>

      <p id="logger-suggestion" class="hint"></p>

      <div class="logger-form">
        <div class="field">
          <label for="set-weight" id="label-weight">Weight (kg)</label>
          <input type="number" id="set-weight" inputmode="decimal" />
        </div>
        <div class="field">
          <label for="set-reps" id="label-reps">Reps</label>
          <input type="number" id="set-reps" inputmode="numeric" />
        </div>
        <div class="field">
          <label for="set-rpe" id="label-rpe">RPE (1–10)</label>
          <input type="number" id="set-rpe" min="1" max="10" />
        </div>
        <button id="add-set-btn" class="btn">Add Set</button>
      </div>

      <div class="sets-list-container">
        <h3>Logged Sets</h3>
        <ul id="sets-list"></ul>
      </div>
    </section>

    <!-- Session summary -->
    <section class="card" id="summary-card" hidden>
      <h2>Session Summary (Live)</h2>
      <ul id="summary-list" class="summary-list">
        <!-- Filled by JS -->
      </ul>
    </section>

    <!-- Notes + Save -->
    <section class="card" id="session-footer" hidden>
      <h2>Session Notes</h2>
      <textarea
        id="session-notes"
        rows="3"
        placeholder="How did it feel? Energy, form, anything to change next time..."
      ></textarea>

      <button id="save-session-btn" class="btn primary full-width">
        Save Session
      </button>
      <p class="save-status" id="save-status"></p>
    </section>

    <!-- History -->
    <section class="card" id="history-card">
      <div class="history-header">
        <h2>History</h2>
        <button id="toggle-history-btn" class="btn small">Show / Hide</button>
      </div>
      <div id="history-section" hidden>
        <ul id="history-list"></ul>
        <button id="clear-history-btn" class="btn danger small">
          Clear All (Careful)
        </button>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <div class="nav-bar">
      <button class="nav-btn" data-target="about-card">About</button>
      <button class="nav-btn" data-target="top">Home</button>
      <button class="nav-btn" data-target="exercises-section">Session</button>
      <button class="nav-btn" data-target="history-card">History</button>
    </div>
    <p class="footer-note">Data stored locally · PWA-ready</p>
  </footer>

  <script src="app.js?v=7"></script>
</body>
</html>
